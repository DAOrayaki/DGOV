(this.webpackJsonpDGV2=this.webpackJsonpDGV2||[]).push([[29],{3383:function(e,t,n){"use strict";n.r(t);var a,c=n(15),r=n.n(c),s=n(26),o=n(32),u=n(4),l=n(1130),i=n(973),j=n(3357),b=n(954),d=n(846),m=n(866),O=n(13),x=function(e){e.account;var t=e.tokenSymbol,n=e.tokenAmount,a=e.setSelectedAmount,c=(e.selectedAmount,e.transform),r=e.isYakiTokenLoaded,s=e.setRecipient;return Object(O.jsx)(O.Fragment,{children:r?Object(O.jsx)(i.a,{children:Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(j.a.Group,{as:b.a,className:"mb-3",controlId:"yakiSymbol",children:[Object(O.jsx)(j.a.Label,{column:!0,sm:"2",children:"Token Name"}),Object(O.jsx)(d.a,{sm:"10",children:Object(O.jsx)(j.a.Control,{plaintext:!0,readOnly:!0,defaultValue:t})})]}),Object(O.jsxs)(j.a.Group,{as:b.a,className:"mb-3",controlId:"yakiBalance",children:[Object(O.jsx)(j.a.Label,{column:!0,sm:"2",children:"Balance"}),Object(O.jsx)(d.a,{sm:"10",children:Object(O.jsx)(j.a.Control,{plaintext:!0,readOnly:!0,defaultValue:n})})]}),Object(O.jsxs)(j.a.Group,{as:b.a,className:"mb-3",controlId:"yakiAmount",children:[Object(O.jsx)(j.a.Label,{column:!0,sm:"2",children:"Amount"}),Object(O.jsx)(d.a,{sm:"10",children:Object(O.jsx)(j.a.Control,{type:"string",onChange:function(e){return a(e.target.value)}})})]}),Object(O.jsxs)(j.a.Group,{as:b.a,className:"mb-3",controlId:"tradeAccount",children:[Object(O.jsx)(j.a.Label,{column:!0,sm:"2",children:"Account address"}),Object(O.jsx)(d.a,{sm:"10",children:Object(O.jsx)(j.a.Control,{type:"string",onChange:function(e){return s(e.target.value)}})})]}),Object(O.jsx)(m.a,{onClick:function(e){return c()},children:"Submit"})]})}):Object(O.jsx)("div",{children:"Loading..."})})},p=n(157),f=n.n(p);t.default=function(e){var t=e.web3,n=e.account,c=e.yakiAddress,i=Object(u.useState)(!1),j=Object(o.a)(i,2),b=j[0],d=j[1],m=Object(u.useState)(""),p=Object(o.a)(m,2),h=p[0],v=p[1],k=Object(u.useState)(void 0),y=Object(o.a)(k,2),g=y[0],w=y[1],A=Object(u.useState)(""),S=Object(o.a)(A,2),N=S[0],L=S[1];console.log(c);var B=function(){b&&(console.log("update info"),C())};Object(u.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)(t,c,n);case 3:return a=e.sent,e.next=6,C();case 6:d(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),d(!1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var C=function(){var e=Object(s.a)(r.a.mark((function e(){var t,c,s,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.decimals();case 2:return t=e.sent,e.next=5,a.pointBanlanceOf(n);case 5:return c=e.sent,s=f.a.utils.toBN(c).div(f.a.utils.toBN(Math.pow(10,t))),e.next=9,a.symbol();case 9:return o=e.sent,e.next=12,a.name();case 12:u=e.sent,w({balance:s,symbol:o,name:u,decimals:t}),setInterval(B,1e3);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.utils.toBN(h).mul(f.a.utils.toBN(Math.pow(10,g.decimals))),e.next=3,a.transferPoint(N,t,n);case 3:return c=e.sent,console.log({tx:c}),e.next=7,C();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:b?Object(O.jsx)(x,{account:n,tokenSymbol:g.symbol,tokenAmount:g.balance,setSelectedAmount:v,selectedAmount:h,setRecipient:L,transform:G,isYakiTokenLoaded:b}):Object(O.jsx)("div",{children:"Loading..."})})}}}]);
//# sourceMappingURL=29.2a7b6562.chunk.js.map