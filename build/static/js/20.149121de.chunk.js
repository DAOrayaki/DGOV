(this.webpackJsonpDGV2=this.webpackJsonpDGV2||[]).push([[20],{3153:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mustBeMetaMask,n=void 0!==t&&t,a=e.silent,r=void 0!==a&&a,o=e.timeout,c=void 0===o?3e3:o;i();var s=!1;return new Promise((function(e){function t(){if(!s){s=!0,window.removeEventListener("ethereum#initialized",t);var a=window.ethereum;if(!a||n&&!a.isMetaMask){var o=n&&a?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!r&&console.error("@metamask/detect-provider:",o),e(null)}else e(a)}}window.ethereum?t():(window.addEventListener("ethereum#initialized",t,{once:!0}),setTimeout((function(){t()}),c))}));function i(){if("boolean"!==typeof n)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof r)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof c)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}},3384:function(e,t,n){"use strict";n.r(t);var a=n(32),r=n(15),o=n.n(r),c=n(31),s=n(26),i=n(4),u=n(3153),d=n.n(u),l=n(741),b=n(975),h=n(956),p=n(848),f=n(208),m=n(110),j=n.n(m),v=n(1130),w=n(982),k=n(979),x=n(957),O=n(10),g=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant"],y={id:j.a.string,href:j.a.string,onClick:j.a.func,title:j.a.node.isRequired,disabled:j.a.bool,align:x.a,menuRole:j.a.string,renderMenuOnMount:j.a.bool,rootCloseEvent:j.a.string,menuVariant:j.a.oneOf(["dark"]),bsPrefix:j.a.string,variant:j.a.string,size:j.a.string},E=i.forwardRef((function(e,t){var n=e.title,a=e.children,r=e.bsPrefix,o=e.rootCloseEvent,s=e.variant,i=e.size,u=e.menuRole,d=e.renderMenuOnMount,l=e.disabled,b=e.href,h=e.id,p=e.menuVariant,m=Object(f.a)(e,g);return Object(O.jsxs)(v.a,Object(c.a)(Object(c.a)({ref:t},m),{},{children:[Object(O.jsx)(w.a,{id:h,href:b,size:i,variant:s,disabled:l,childBsPrefix:r,children:n}),Object(O.jsx)(k.a,{role:u,renderOnMount:d,rootCloseEvent:o,variant:p,children:a})]}))}));E.displayName="DropdownButton",E.propTypes=y;var C,M=E,N=n(868),S=n(24),I=n(1132),B=n(783),T=n.n(B),P=function(e){var t=e.tokenInfo,n=e.goWallet,a=e.isError,r=e.networkId;return Object(O.jsx)(O.Fragment,{children:a?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{className:"text-danger",children:"Wrong network : ".concat(function(e){var t;switch(e.toString()){case"1":t="Foundation","https://etherscan.io",console.log("This is Foundation",e);break;case"3":t="Ropsten","https://ropsten.etherscan.io",console.log("This is Ropsten",e);break;case"4":t="Rinkeby","https://rinkeby.etherscan.io",console.log("This is Rinkeby",e);break;case"42":t="Kovan","https://kovan.etherscan.io",console.log("This is Kovan",e);break;case"99":t="POA Core","https://poaexplorer.com",console.log("This is Core",e);break;case"77":t="POA Sokol","https://sokol.poaexplorer.com",console.log("This is Sokol",e);break;case"56":t="BSC","https://bscscan.com",console.log("This is BSC",e);break;case"137":t="Matic Network","https://polygonscan.com/",console.log("This is Polygon",e);break;default:t="Unknown",console.log("This is an unknown network.",e)}return t}(r))}),Object(O.jsx)("p",{children:Object(O.jsx)(N.a,{variant:"danger",className:"pl-2 ms-4",onClick:n,children:"Switch to BSC"})})]}):Object(O.jsx)(N.a,{variant:"outline-dark",className:"pl-2 ms-4",onClick:n,children:"".concat(t.balance," YakID")})})},F=function(e){var t,n=e.web3,r=e.account,c=e.yakiAddress,u=e.disconnect,d=e.changeNetwork,l=Object(i.useState)(!1),b=Object(a.a)(l,2),h=b[0],p=b[1],f=Object(i.useState)(void 0),m=Object(a.a)(f,2),j=m[0],v=m[1],w=Object(i.useState)(""),k=Object(a.a)(w,2),x=k[0],g=k[1],y=Object(i.useState)(!1),E=Object(a.a)(y,2),M=E[0],B=E[1],F=Object(S.f)(),R=function(){C?A():console.log("yaki not loaded update")};Object(i.useEffect)((function(){return function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.eth.net.getId();case 3:return t=e.sent,e.next=6,Object(I.a)(n,c,r);case 6:return C=e.sent,g(t),e.next=10,A();case 10:p(!0),B(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),p(!1),B(!0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()().then((function(){t=setInterval(R,1e3)})),function(){clearInterval(t)}}),[]);var A=function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.decimals();case 2:return t=e.sent,e.next=5,C.pointBanlanceOf(r);case 5:n=e.sent,a=new T.a(n).dividedBy(Math.pow(10,t)).toFixed(3),v({balance:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:h&&n?Object(O.jsx)(P,{tokenInfo:j,goWallet:function(){F.push("/wallet")},isError:M,networkId:x}):n&&M?Object(O.jsx)(P,{tokenInfo:j,goWallet:function(){d(),u()},isError:M,networkId:x}):Object(O.jsx)(N.a,{variant:"outline-dark",className:"pl-2 ms-4",children:"Loading"})})},R=!1,A={polygon:{chainId:"0x".concat(Number(137).toString(16)),chainName:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com/"],blockExplorerUrls:["https://polygonscan.com/"]},bsc:{chainId:"0x".concat(Number(56).toString(16)),chainName:"Binance Smart Chain Mainnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed4.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed4.ninicoin.io","wss://bsc-ws-node.nariox.org"],blockExplorerUrls:["https://bscscan.com"]}},D=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.networkName,a=t.setError,e.prev=1,window.ethereum){e.next=4;break}throw new Error("No crypto wallet found");case 4:return e.next=6,window.ethereum.request({method:"wallet_addEthereumChain",params:[Object(c.a)({},A[n])]});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e.web3,n=e.account1,r=e.setProviderData,c=function(){return r()},u=Object(l.g)(),f=(u.account,u.connect),m=u.reset,j=(u.status,Object(i.useState)(!1)),w=Object(a.a)(j,2),k=w[0],x=w[1],g="dgov-login-state",y=Object(i.useState)(),E=Object(a.a)(y,2),C=(E[0],E[1]),S=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),e.next=3,D({networkName:t,setError:C});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){R||(R=!0);var e=localStorage.getItem(g);"0"!=e||k?"1"==e&&k&&I():B()}));var I=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(),c(),localStorage.setItem(g,"1"),x(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f("bsc").then((function(){d()().then((function(e){e&&r(e)}))})),localStorage.setItem(g,"0"),x(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.a,{children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(p.a,{md:4,children:Object(O.jsx)(M,{id:"dropdown-item-button",title:n.slice(0,4)+"..."+n.slice(-4),variant:"secondary",className:"me-5",children:Object(O.jsx)(v.a.Item,{as:"button",onClick:function(){return I()},children:"Disconnect  "})})}),Object(O.jsx)(p.a,{md:7,children:Object(O.jsx)(F,{web3:t,account:n,yakiAddress:"0xf42FF460BAEfBd932606cD56328d9dcf33240230",disconnect:c,changeNetwork:function(){return S("bsc")}})})]})})}):Object(O.jsx)(N.a,{variant:"secondary",onClick:B,children:"Connect"})}},957:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(110),r=n.n(a),o=r.a.oneOf(["start","end"]),c=r.a.oneOfType([o,r.a.shape({sm:o}),r.a.shape({md:o}),r.a.shape({lg:o}),r.a.shape({xl:o}),r.a.shape({xxl:o})])}}]);
//# sourceMappingURL=20.149121de.chunk.js.map