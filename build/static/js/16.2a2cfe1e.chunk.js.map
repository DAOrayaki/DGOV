{"version":3,"sources":["components/Web3Connect/YakiButton.tsx","components/Web3Connect/index.tsx","components/Header.tsx","images/logo.png","logic/YakiToken/index.ts","logic/YakiToken/YAKID.ts"],"names":["yakiTokenRepo","YakiButton","web3","account","yakiAddress","useState","isYakiTokenLoaded","setIsYakiTokenLoaded","undefined","tokenInfo","setTokenInfo","console","log","useEffect","a","loadYakiTokenRepo","getYakiInfo","error","init","decimals","pointBanlanceOf","balanceAmount","balance","Web3","utils","toBN","div","Math","pow","toString","Button","variant","className","web3ConnectListenersAdded","Web3ConnectButton","account1","setProviderData","connectProvider","provider","useWallet","connect","reset","status","resetMetamask","connectMetamask","detectEthereumProvider","Container","Row","Col","md","DropdownButton","id","title","Dropdown","ItemText","Item","as","onClick","process","Header","Navbar","fluid","Brand","Link","to","alt","src","width","height","Toggle","Collapse","Nav","NavDropdown","NavLink","href","styles","web3Button","Web3Connect","yakiAddressCache","providerAccountCache","assert","require","YakiTokenRepo","contracts","yakiToken","symbol","name","getAddress","address","approvePoint","spender","amount","from","pointBalanceOf","transferPoint","recipient","transferPointFrom","sender","tranferPointFrom","this","TruffleContract","loadYakiContract","yakiContract","YAKI","setProvider","currentProvider","at"],"mappings":"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","file":"static/js/16.2a2cfe1e.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport loadYakiTokenRepo from \"src/logic/YakiToken\";\r\nimport Web3 from 'web3'\r\n\r\n\r\ntype YakiWalletProps = {\r\n    web3: any\r\n    account: string\r\n    yakiAddress: string\r\n}\r\n\r\nlet yakiTokenRepo: any\r\n\r\nconst YakiButton: React.FC<YakiWalletProps> = ({\r\n    web3, account, yakiAddress\r\n}) => {\r\n    const [isYakiTokenLoaded, setIsYakiTokenLoaded] = useState<boolean>(false)\r\n    const [tokenInfo, setTokenInfo] = useState<any>(undefined)\r\n\r\n    console.log(yakiAddress)\r\n\r\n    useEffect(() => {\r\n        const init = async () => {\r\n            try {\r\n                yakiTokenRepo = await loadYakiTokenRepo(web3, yakiAddress, account)\r\n                await getYakiInfo()\r\n                setIsYakiTokenLoaded(true)\r\n            } catch (err) {\r\n                setIsYakiTokenLoaded(false)\r\n                console.error(err)\r\n            }\r\n        }\r\n\r\n        init()\r\n    }, [])\r\n\r\n    const getYakiInfo = async () => {\r\n        const decimals = await yakiTokenRepo.decimals()\r\n        const balanceAmount = await yakiTokenRepo.pointBanlanceOf(account)\r\n        const balance = Web3.utils.toBN(balanceAmount).div(\r\n            Web3.utils.toBN(Math.pow(10, decimals))\r\n        ).toString()\r\n        console.log(balance)\r\n\r\n        const yakiData = {\r\n            balance: balance,\r\n        }\r\n\r\n        setTokenInfo(yakiData)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {isYakiTokenLoaded && web3 ? \r\n            (\r\n                <Button variant=\"outline-dark\" className=\"pl-2\">\r\n                    {tokenInfo.balance} YakID\r\n                </Button>\r\n            )\r\n             : (\r\n                <div>Loading...</div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default YakiButton","import React, { useEffect } from 'react'\r\nimport detectEthereumProvider from '@metamask/detect-provider'\r\nimport {\r\n  useWallet,\r\n} from 'use-wallet'\r\nimport { DropdownButton, Dropdown, Button, Container, Row, Col } from 'react-bootstrap'\r\nimport YakiButton from 'src/components/Web3Connect/YakiButton'\r\n// import detectEthereumProvider from '@metamask/detect-provider';\r\n\r\n\r\ntype Props = {\r\n  web3: any\r\n  account1: string\r\n  setProviderData: Function\r\n}\r\n\r\nlet web3ConnectListenersAdded = false\r\n\r\n\r\nconst Web3ConnectButton: React.FC<Props> = ({ web3, account1, setProviderData }) => {\r\n  const connectProvider = (provider: any) => setProviderData(provider)\r\n  const disconnectProvider = () => setProviderData()\r\n  const { account, connect, reset, status } = useWallet()\r\n\r\n  useEffect(() => {\r\n    if (!web3ConnectListenersAdded) {\r\n      web3ConnectListenersAdded = true\r\n    }\r\n  })\r\n\r\n  const resetMetamask = async () => {\r\n    reset()\r\n    disconnectProvider()\r\n  }\r\n\r\n  const connectMetamask = async () => {\r\n    //@ts-ignore\r\n    // connect('bsc')\r\n    connect()\r\n    // const provider = await detectEthereumProvider()\r\n    // const provider = <window className=\"bin</window>\r\n\r\n    //this is only for bsc\r\n    //@ts-ignore\r\n    // const provider = window.BinanceChain\r\n\r\n    const provider = await detectEthereumProvider();\r\n\r\n    if (provider) {\r\n      // if (provider !== window.ethereum) {\r\n      // console.log('Do you have multiple wallets installed?')\r\n      // }\r\n      connectProvider(provider)\r\n    }\r\n\r\n  }\r\n\r\n  // const getTypeOfAccount = () => {\r\n  //   let type: string\r\n  //   if (account1 === process.env.REACT_APP_OPERATOR_ADDRESS) {\r\n  //     type = 'Operator'\r\n  //   } else if (account1 === process.env.REACT_APP_ORACLE_ADDRESS) {\r\n  //     type = 'Oracle'\r\n  //   } else {\r\n  //     type = 'Trader'\r\n  //   }\r\n  //   return type\r\n  // }\r\n\r\n  return account1 ? (\r\n    // <Button variant=\"contained\" onClick={() => resetMetamask()}>\r\n    //   Disconnect {account1}\r\n    // </Button>\r\n    <>\r\n      <Container>\r\n        {/* <Row> */}\r\n        <Row>\r\n          <Col md={4}>\r\n            <DropdownButton id=\"dropdown-item-button\" title=\"Account\" variant=\"secondary\" >\r\n              <Dropdown.ItemText>{account1}</Dropdown.ItemText>\r\n              <Dropdown.Item as=\"button\" onClick={() => resetMetamask()}>Disconnect  </Dropdown.Item>\r\n            </DropdownButton>\r\n          </Col>\r\n          {/* </Row> */}\r\n          {/* <Row className=\"mt-2\"> */}\r\n          <Col md={7}>\r\n            {/* @ts-ignore */}\r\n            <YakiButton web3={web3} account={account1} yakiAddress={process.env.REACT_APP_YAKI_ADDRESS}></YakiButton>\r\n          </Col>\r\n          {/* </Row> */}\r\n        </Row>\r\n      </Container>\r\n    </>\r\n\r\n  ) : (\r\n    <Button variant=\"secondary\" onClick={connectMetamask}>\r\n      Connect\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default Web3ConnectButton\r\n","import React, { lazy } from \"react\";\r\nimport {\r\n    Container,\r\n    Navbar,\r\n    Nav,\r\n    NavDropdown,\r\n    NavbarBrand\r\n} from \"react-bootstrap\";\r\nimport Web3ConnectButton from 'src/components/Web3Connect'\r\nimport styles from 'src/components/style.module.css'\r\nimport logo from 'src/images/logo.png'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\n\r\ntype HeaderProps = {\r\n    web3: any\r\n    account: any\r\n    setProviderData: any\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({ web3, account, setProviderData }) => {\r\n    const headerStyle = {\r\n        justifycontent: 'flex-start'\r\n    };\r\n\r\n    return (\r\n        <Navbar>\r\n            <Container fluid>\r\n                <Navbar.Brand className=\"justify-content-start align-text-bottom d-inline-block\" as={Link} to=\"/home\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src={logo}\r\n                        width=\"40\"\r\n                        height=\"40\"\r\n                        className=\"d-inline-block align-bottom\"\r\n                    />{'DAOrayaki'}\r\n                </Navbar.Brand>\r\n\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\r\n                    <Nav className=\"ms-auto mt-0\">\r\n                        <NavDropdown title=\"Hot trends markets\" id=\"hot-trend-markets\">\r\n                            <NavDropdown.Item as={NavLink} to=\"/markets/hottrendmarkets/current\">Current market</NavDropdown.Item>\r\n                            <NavDropdown.Item as={NavLink} to=\"/markets/hottrendmarkets/marketlist\">Market List</NavDropdown.Item>\r\n\r\n                            <NavDropdown.Item >Top ranked</NavDropdown.Item>\r\n\r\n                            <NavDropdown.Item >Top predictors</NavDropdown.Item>\r\n                        </NavDropdown>\r\n\r\n                        <NavDropdown title=\"Research markets\" id=\"research-markets\">\r\n                            <NavDropdown.Item as={NavLink} to=\"/markets/researchmarkets/current\">Current market</NavDropdown.Item>\r\n                            <NavDropdown.Item as={NavLink}  to=\"/markets/researchmarkets/marketlist\">Market List</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.3\">Top ranked</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.4\">Top predictors</NavDropdown.Item>\r\n                        </NavDropdown>\r\n\r\n                        <NavDropdown title=\"Content space\" id=\"content-space\">\r\n                            <NavDropdown.Item href=\"https://forum.daorayaki.cn/\">Discussion Forum</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.2\">Ranked writers</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.3\">Ranked topics</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.4\">Predictors space</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.4\">Events</NavDropdown.Item>\r\n                        </NavDropdown>\r\n\r\n                        <NavDropdown title=\"How it works?\" id=\"research-markets\">\r\n                            <NavDropdown.Item href=\"#action/3.1\">Futarchy mechanism</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.2\">Participation rules</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.3\">Governance rules</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.4\">Schedules</NavDropdown.Item>\r\n                        </NavDropdown>\r\n\r\n                        <Nav className=\"me-auto\">\r\n                            <Nav.Link as={NavLink} to=\"/wallet\">Wallet</Nav.Link>\r\n                        </Nav>\r\n\r\n                        <NavDropdown title=\"About\" id=\"research-markets\">\r\n                            <NavDropdown.Item href=\"#action/3.1\">DAOrayaki</NavDropdown.Item>\r\n                            <NavDropdown.Item href=\"#action/3.2\">Contact US</NavDropdown.Item>\r\n                        </NavDropdown>\r\n\r\n                        <Nav className={styles.web3Button}>\r\n                            <Web3ConnectButton account1={account} setProviderData={setProviderData} web3={web3} />\r\n                        </Nav>\r\n                    </Nav>\r\n                    {/* </Container> */}\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n\r\n    )\r\n}\r\n\r\nexport default Header","export default \"data:image/png;base64,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\"","import YakiTokenRepo from \"./YAKID\";\r\nimport YAKI from '../../abi/YAKIID.json'\r\n\r\nconst TruffleContract = require('@truffle/contract')\r\n\r\nlet yakiTokenRepo: YakiTokenRepo | undefined\r\nlet yakiAddressCache: string\r\nlet providerAccountCache: string\r\nlet contract: object | undefined\r\n\r\nconst resetYakiTokenRepo = () => {\r\n    yakiTokenRepo = undefined\r\n}\r\n\r\nconst loadYakiContract = async (web3: any) => {\r\n    let yakiContract\r\n    if (!contract) {\r\n        // weth9Contract = TruffleContract(WETH9)\r\n        yakiContract = TruffleContract(YAKI)\r\n        yakiContract.setProvider(web3.currentProvider)\r\n    }\r\n    return yakiContract\r\n}\r\n\r\n\r\nconst loadYakiTokenRepo = async (web3: any, yakiAddress: string, account: string) => {\r\n    try {\r\n        if (\r\n            (account && account !== providerAccountCache) ||\r\n            (yakiAddress && yakiAddress !== yakiAddressCache)\r\n        ) {\r\n            resetYakiTokenRepo()\r\n        }\r\n        if (!yakiTokenRepo) {\r\n            yakiAddressCache = yakiAddress\r\n            providerAccountCache = account\r\n\r\n            const contracts = await loadYakiContract(web3)\r\n            const yakiContract = await contracts.at(yakiAddress)\r\n            yakiTokenRepo = new YakiTokenRepo(yakiContract)\r\n        }\r\n        return yakiTokenRepo\r\n    } catch (err) {\r\n        console.error(err)\r\n        return null\r\n    }\r\n}\r\n\r\nexport default loadYakiTokenRepo\r\n","const assert = require('assert')\r\n\r\nclass YakiTokenRepo {\r\n    yakiToken: any\r\n\r\n    constructor(contracts: any) {\r\n        assert(contracts, '\"contracts\" is required')\r\n\r\n        this.yakiToken = contracts\r\n    }\r\n\r\n    symbol = async () => {\r\n        return this.yakiToken.symbol()\r\n    }\r\n\r\n    decimals = async () => {\r\n        return this.yakiToken.decimals()\r\n    }\r\n\r\n    name = async () => {\r\n        return this.yakiToken.name()\r\n    }\r\n\r\n    getAddress = async () => {\r\n        return this.yakiToken.address\r\n    }\r\n\r\n    approvePoint = async (spender: string, amount: number, from: string) => {\r\n        return this.yakiToken.approvePoint(spender, amount, { from })\r\n    }\r\n\r\n    pointBanlanceOf = async (account: string) => {\r\n        return this.yakiToken.pointBalanceOf(account)\r\n    }\r\n\r\n    transferPoint = async (recipient: string, amount: number, from: string) => {\r\n        return this.yakiToken.transferPoint(recipient, amount, { from })\r\n    }\r\n\r\n    transferPointFrom = async (sender: string, recipient: string, amount: number, from: string) => {\r\n        return this.yakiToken.tranferPointFrom(sender, recipient, amount, { from })\r\n    }\r\n\r\n}\r\n\r\nexport default YakiTokenRepo"],"sourceRoot":""}