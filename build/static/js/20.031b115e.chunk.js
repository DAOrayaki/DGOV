(this.webpackJsonpDGV2=this.webpackJsonpDGV2||[]).push([[20],{3153:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mustBeMetaMask,n=void 0!==t&&t,r=e.silent,a=void 0!==r&&r,o=e.timeout,c=void 0===o?3e3:o;s();var i=!1;return new Promise((function(e){function t(){if(!i){i=!0,window.removeEventListener("ethereum#initialized",t);var r=window.ethereum;if(!r||n&&!r.isMetaMask){var o=n&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!a&&console.error("@metamask/detect-provider:",o),e(null)}else e(r)}}window.ethereum?t():(window.addEventListener("ethereum#initialized",t,{once:!0}),setTimeout((function(){t()}),c))}));function s(){if("boolean"!==typeof n)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof a)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof c)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}},3384:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n.n(r),o=n(26),c=n(32),i=n(4),s=n(3153),u=n.n(s),d=n(741),l=n(975),f=n(956),b=n(848),p=n(31),j=n(208),v=n(110),h=n.n(v),m=n(1130),O=n(982),w=n(979),x=n(957),k=n(10),g=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant"],y={id:h.a.string,href:h.a.string,onClick:h.a.func,title:h.a.node.isRequired,disabled:h.a.bool,align:x.a,menuRole:h.a.string,renderMenuOnMount:h.a.bool,rootCloseEvent:h.a.string,menuVariant:h.a.oneOf(["dark"]),bsPrefix:h.a.string,variant:h.a.string,size:h.a.string},E=i.forwardRef((function(e,t){var n=e.title,r=e.children,a=e.bsPrefix,o=e.rootCloseEvent,c=e.variant,i=e.size,s=e.menuRole,u=e.renderMenuOnMount,d=e.disabled,l=e.href,f=e.id,b=e.menuVariant,v=Object(j.a)(e,g);return Object(k.jsxs)(m.a,Object(p.a)(Object(p.a)({ref:t},v),{},{children:[Object(k.jsx)(O.a,{id:f,href:l,size:i,variant:c,disabled:d,childBsPrefix:a,children:n}),Object(k.jsx)(w.a,{role:s,renderOnMount:u,rootCloseEvent:o,variant:b,children:r})]}))}));E.displayName="DropdownButton",E.propTypes=y;var M,I=E,C=n(868),B=n(24),S=n(1132),D=n(783),N=n.n(D),z=function(e){var t=e.tokenInfo,n=e.goWallet,r=e.isError,a=e.networkId;return Object(k.jsx)(k.Fragment,{children:r?Object(k.jsx)(C.a,{variant:"danger",className:"pl-2 ms-4",onClick:n,children:"Wrong network : ".concat(a)}):Object(k.jsx)(C.a,{variant:"outline-dark",className:"pl-2 ms-4",onClick:n,children:"".concat(t.balance," YakID")})})},F=function(e){var t,n=e.web3,r=e.account,s=e.yakiAddress,u=Object(i.useState)(!1),d=Object(c.a)(u,2),l=d[0],f=d[1],b=Object(i.useState)(void 0),p=Object(c.a)(b,2),j=p[0],v=p[1],h=Object(i.useState)(""),m=Object(c.a)(h,2),O=m[0],w=m[1],x=Object(i.useState)(!1),g=Object(c.a)(x,2),y=g[0],E=g[1],I=Object(B.f)(),D=function(){M?F():console.log("yaki not loaded update")};Object(i.useEffect)((function(){return function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.eth.net.getNetworkType();case 3:return t=e.sent,e.next=6,Object(S.a)(n,s,r);case 6:return M=e.sent,w(t),e.next=10,F();case 10:f(!0),E(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),f(!1),E(!0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()().then((function(){t=setInterval(D,1e3)})),function(){clearInterval(t)}}),[]);var F=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.decimals();case 2:return t=e.sent,e.next=5,M.pointBanlanceOf(r);case 5:n=e.sent,o=new N.a(n).dividedBy(Math.pow(10,t)).toFixed(3),v({balance:o});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){I.push("/wallet")};return Object(k.jsx)(k.Fragment,{children:l&&n||n&&y?Object(k.jsx)(z,{tokenInfo:j,goWallet:P,isError:y,networkId:O}):Object(k.jsx)(C.a,{variant:"outline-dark",className:"pl-2 ms-4",children:"Loading"})})},P=!1;t.default=function(e){var t=e.web3,n=e.account1,r=e.setProviderData,s=Object(d.g)(),p=(s.account,s.connect),j=s.reset,v=(s.status,Object(i.useState)(!1)),h=Object(c.a)(v,2),O=h[0],w=h[1],x="dgov-login-state";Object(i.useEffect)((function(){P||(P=!0);var e=localStorage.getItem(x);"0"!=e||O?"1"==e&&O&&g():y()}));var g=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(),r(),localStorage.setItem(x,"1"),w(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p().then((function(){u()().then((function(e){e&&r(e)}))})),localStorage.setItem(x,"0"),w(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(f.a,{children:[Object(k.jsx)(b.a,{md:4,children:Object(k.jsx)(I,{id:"dropdown-item-button",title:n.slice(0,4)+"..."+n.slice(-4),variant:"secondary",className:"me-5",children:Object(k.jsx)(m.a.Item,{as:"button",onClick:function(){return g()},children:"Disconnect  "})})}),Object(k.jsx)(b.a,{md:7,children:Object(k.jsx)(F,{web3:t,account:n,yakiAddress:"0xf42FF460BAEfBd932606cD56328d9dcf33240230"})})]})})}):Object(k.jsx)(C.a,{variant:"secondary",onClick:y,children:"Connect"})}},957:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(110),a=n.n(r),o=a.a.oneOf(["start","end"]),c=a.a.oneOfType([o,a.a.shape({sm:o}),a.a.shape({md:o}),a.a.shape({lg:o}),a.a.shape({xl:o}),a.a.shape({xxl:o})])}}]);
//# sourceMappingURL=20.031b115e.chunk.js.map