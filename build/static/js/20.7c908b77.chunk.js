(this.webpackJsonpDGV2=this.webpackJsonpDGV2||[]).push([[20],{3151:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mustBeMetaMask,n=void 0!==t&&t,r=e.silent,a=void 0!==r&&r,o=e.timeout,i=void 0===o?3e3:o;s();var c=!1;return new Promise((function(e){function t(){if(!c){c=!0,window.removeEventListener("ethereum#initialized",t);var r=window.ethereum;if(!r||n&&!r.isMetaMask){var o=n&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!a&&console.error("@metamask/detect-provider:",o),e(null)}else e(r)}}window.ethereum?t():(window.addEventListener("ethereum#initialized",t,{once:!0}),setTimeout((function(){t()}),i))}));function s(){if("boolean"!==typeof n)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof a)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof i)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}},3380:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n.n(r),o=n(26),i=n(4),c=n(3151),s=n.n(c),u=n(741),d=n(973),l=n(954),f=n(846),p=n(31),b=n(208),v=n(110),h=n.n(v),m=n(1128),j=n(980),x=n(977),O=n(955),w=n(13),k=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant"],g={id:h.a.string,href:h.a.string,onClick:h.a.func,title:h.a.node.isRequired,disabled:h.a.bool,align:O.a,menuRole:h.a.string,renderMenuOnMount:h.a.bool,rootCloseEvent:h.a.string,menuVariant:h.a.oneOf(["dark"]),bsPrefix:h.a.string,variant:h.a.string,size:h.a.string},M=i.forwardRef((function(e,t){var n=e.title,r=e.children,a=e.bsPrefix,o=e.rootCloseEvent,i=e.variant,c=e.size,s=e.menuRole,u=e.renderMenuOnMount,d=e.disabled,l=e.href,f=e.id,v=e.menuVariant,h=Object(b.a)(e,k);return Object(w.jsxs)(m.a,Object(p.a)(Object(p.a)({ref:t},h),{},{children:[Object(w.jsx)(j.a,{id:f,href:l,size:c,variant:i,disabled:d,childBsPrefix:a,children:n}),Object(w.jsx)(x.a,{role:s,renderOnMount:u,rootCloseEvent:o,variant:v,children:r})]}))}));M.displayName="DropdownButton",M.propTypes=g;var y,E=M,B=n(866),C=n(32),D=n(24),N=n(1130),z=n(157),P=n.n(z),R=function(e){var t=e.web3,n=e.account,r=e.yakiAddress,c=Object(i.useState)(!1),s=Object(C.a)(c,2),u=s[0],d=s[1],l=Object(i.useState)(void 0),f=Object(C.a)(l,2),p=f[0],b=f[1],v=Object(D.f)();console.log(r);var h=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=4;break}return console.log("update info"),e.next=4,m();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){(function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.a)(t,r,n);case 3:return y=e.sent,e.next=6,m();case 6:d(!0),setInterval(h,5e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),d(!1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.decimals();case 2:return t=e.sent,e.next=5,y.pointBanlanceOf(n);case 5:r=e.sent,o=P.a.utils.toBN(r).div(P.a.utils.toBN(Math.pow(10,t))).toString(),console.log(o),b({balance:o});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&console.log(p.balance);return Object(w.jsx)(w.Fragment,{children:u&&t?Object(w.jsx)(B.a,{variant:"outline-dark",className:"pl-2 ms-4",onClick:function(){v.push("/wallet")},children:"".concat(p.balance," YakID")}):Object(w.jsx)(B.a,{variant:"outline-dark",className:"pl-2 ms-4",children:"Loading"})})},V=!1;t.default=function(e){var t=e.web3,n=e.account1,r=e.setProviderData,c=function(e){return r(e)},p=Object(u.g)(),b=(p.account,p.connect),v=p.reset;p.status;Object(i.useEffect)((function(){V||(V=!0)}));var h=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),e.next=3,s()();case 3:(t=e.sent)&&c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(d.a,{children:Object(w.jsxs)(l.a,{children:[Object(w.jsx)(f.a,{md:4,children:Object(w.jsx)(E,{id:"dropdown-item-button",title:n.slice(0,4)+"..."+n.slice(-4),variant:"secondary",className:"me-5",children:Object(w.jsx)(m.a.Item,{as:"button",onClick:function(){return h()},children:"Disconnect  "})})}),Object(w.jsx)(f.a,{md:7,children:Object(w.jsx)(R,{web3:t,account:n,yakiAddress:"0xa56338D2362d662424B56A89A98d0f7B82790390"})})]})})}):Object(w.jsx)(B.a,{variant:"secondary",onClick:j,children:"Connect"})}},955:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(110),a=n.n(r),o=a.a.oneOf(["start","end"]),i=a.a.oneOfType([o,a.a.shape({sm:o}),a.a.shape({md:o}),a.a.shape({lg:o}),a.a.shape({xl:o}),a.a.shape({xxl:o})])}}]);
//# sourceMappingURL=20.7c908b77.chunk.js.map