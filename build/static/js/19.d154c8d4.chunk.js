(this.webpackJsonpDGV2=this.webpackJsonpDGV2||[]).push([[19],{3150:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mustBeMetaMask,n=void 0!==t&&t,r=e.silent,a=void 0!==r&&r,o=e.timeout,c=void 0===o?3e3:o;s();var i=!1;return new Promise((function(e){function t(){if(!i){i=!0,window.removeEventListener("ethereum#initialized",t);var r=window.ethereum;if(!r||n&&!r.isMetaMask){var o=n&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!a&&console.error("@metamask/detect-provider:",o),e(null)}else e(r)}}window.ethereum?t():(window.addEventListener("ethereum#initialized",t,{once:!0}),setTimeout((function(){t()}),c))}));function s(){if("boolean"!==typeof n)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof a)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof c)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}},3379:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n.n(r),o=n(26),c=n(4),i=n(3150),s=n.n(i),u=n(741),f=n(974),p=n(954),d=n(848),l=n(31),b=n(208),v=n(110),h=n.n(v),m=n(1129),w=n(981),j=n(978),k=n(955),O=n(13),x=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant"],y={id:h.a.string,href:h.a.string,onClick:h.a.func,title:h.a.node.isRequired,disabled:h.a.bool,align:k.a,menuRole:h.a.string,renderMenuOnMount:h.a.bool,rootCloseEvent:h.a.string,menuVariant:h.a.oneOf(["dark"]),bsPrefix:h.a.string,variant:h.a.string,size:h.a.string},g=c.forwardRef((function(e,t){var n=e.title,r=e.children,a=e.bsPrefix,o=e.rootCloseEvent,c=e.variant,i=e.size,s=e.menuRole,u=e.renderMenuOnMount,f=e.disabled,p=e.href,d=e.id,v=e.menuVariant,h=Object(b.a)(e,x);return Object(O.jsxs)(m.a,Object(l.a)(Object(l.a)({ref:t},h),{},{children:[Object(O.jsx)(w.a,{id:d,href:p,size:i,variant:c,disabled:f,childBsPrefix:a,children:n}),Object(O.jsx)(j.a,{role:s,renderOnMount:u,rootCloseEvent:o,variant:v,children:r})]}))}));g.displayName="DropdownButton",g.propTypes=y;var M,E=g,P=n(867),T=n(32),B=n(24),C=n(967),D=n(157),N=n.n(D),z=function(e){var t=e.web3,n=e.account,r=e.yakiAddress,i=Object(c.useState)(!1),s=Object(T.a)(i,2),u=s[0],f=s[1],p=Object(c.useState)(void 0),d=Object(T.a)(p,2),l=d[0],b=d[1],v=Object(B.f)();console.log(r);var h=function(){u&&(console.log("update info"),m())};Object(c.useEffect)((function(){(function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)(t,r,n);case 3:return M=e.sent,e.next=6,m();case 6:f(!0),setInterval(h,5e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),f(!1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.decimals();case 2:return t=e.sent,e.next=5,M.pointBanlanceOf(n);case 5:r=e.sent,o=N.a.utils.toBN(r).div(N.a.utils.toBN(Math.pow(10,t))).toString(),console.log(o),b({balance:o});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&console.log(l.balance);return Object(O.jsx)(O.Fragment,{children:u&&t?Object(O.jsx)(P.a,{variant:"outline-dark",className:"pl-2 ms-4",onClick:function(){v.push("/wallet")},children:"".concat(l.balance," YakID")}):Object(O.jsx)(P.a,{variant:"outline-dark",className:"pl-2 ms-4",children:"Loading"})})},A=!1;t.default=function(e){var t=e.web3,n=e.account1,r=e.setProviderData,i=function(e){return r(e)},l=Object(u.g)(),b=(l.account,l.connect),v=l.reset;l.status;Object(c.useEffect)((function(){A||(A=!0)}));var h=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),e.next=3,s()();case 3:(t=e.sent)&&i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(f.a,{children:Object(O.jsxs)(p.a,{children:[Object(O.jsx)(d.a,{md:4,children:Object(O.jsx)(E,{id:"dropdown-item-button",title:n.slice(0,4)+"..."+n.slice(-4),variant:"secondary",className:"me-5",children:Object(O.jsx)(m.a.Item,{as:"button",onClick:function(){return h()},children:"Disconnect  "})})}),Object(O.jsx)(d.a,{md:7,children:Object(O.jsx)(z,{web3:t,account:n,yakiAddress:"0xa56338D2362d662424B56A89A98d0f7B82790390"})})]})})}):Object(O.jsx)(P.a,{variant:"secondary",onClick:w,children:"Connect"})}},955:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(110),a=n.n(r),o=a.a.oneOf(["start","end"]),c=a.a.oneOfType([o,a.a.shape({sm:o}),a.a.shape({md:o}),a.a.shape({lg:o}),a.a.shape({xl:o}),a.a.shape({xxl:o})])},967:function(e,t,n){"use strict";var r,a,o,c=n(15),i=n.n(c),s=n(26),u=n(6),f=n(23),p=function e(t){var n=this;Object(u.a)(this,e),this.yakiToken=void 0,this.symbol=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.symbol());case 1:case"end":return e.stop()}}),e)}))),this.decimals=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.decimals());case 1:case"end":return e.stop()}}),e)}))),this.name=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.name());case 1:case"end":return e.stop()}}),e)}))),this.getAddress=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.address);case 1:case"end":return e.stop()}}),e)}))),this.approvePoint=function(){var e=Object(s.a)(i.a.mark((function e(t,r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.approvePoint(t,r,{from:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pointBanlanceOf=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.pointBalanceOf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transferPoint=function(){var e=Object(s.a)(i.a.mark((function e(t,r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.transferPoint(t,r,{from:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.transferPointFrom=function(){var e=Object(s.a)(i.a.mark((function e(t,r,a,o){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.yakiToken.tranferPointFrom(t,r,a,{from:o}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),f(t,'"contracts" is required'),this.yakiToken=t},d=n(810),l=n(840),b=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=l(d)).setProvider(t.currentProvider),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(i.a.mark((function e(t,n,c){var s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(c&&c!==o||n&&n!==a)&&(r=void 0),r){e.next=12;break}return a=n,o=c,e.next=7,b(t);case 7:return s=e.sent,e.next=10,s.at(n);case 10:u=e.sent,r=new p(u);case 12:return e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}();t.a=v}}]);
//# sourceMappingURL=19.d154c8d4.chunk.js.map